/******************************************
GLOBAL STYLES
******************************************/

html {

  @include themed() {
    background-color: t($primary-clr) !important;
  }
}

body {
  -moz-font-feature-settings:"liga=1";
  -moz-font-feature-settings:"liga";
  -ms-font-feature-settings:"liga";
  -o-font-feature-settings:"liga";
  -webkit-font-feature-settings:"liga";
  font-feature-settings:"liga";

  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  @include themed() {
    background-color: t($bg);
    //font-weight: t($text-font-weight);
  }

  // Dark Mode

  &.theme--default {
    .btn-toggle {
      .btn-toggle-dark {
        display: block;
      }
      .btn-toggle-light {
        display: none;
      }
    }
  }
  &.theme--dark {
    .btn-toggle {
      .btn-toggle-dark {
        display: none;
      }
      .btn-toggle-light {
        display: block;
      }
    }
  }
}

.off-canvas-wrapper {

  background-color: $body-background;

  @include themed() {
    color: t($text);
    background-color: t($bg);
  }
}

// PRELOADER SPINNER STYLES

.no-js #loader {
  display: none;
}

.js #loader {
  display: block; position: absolute; left: 100px; top: 0;
}

.preloader-spinner {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	//background: url(../images/preloader.gif) center no-repeat $body-background;-moz-transform: scale(-1, 1);
  transform: scale(-1, 1);

  &:after {
    margin-top: -1.5rem;
    margin-left: -1.5rem;
    font-size: 3rem;
    text-align: center;
    position: absolute;
    left: 50%;
    top: 50%;
    font-family: "Material Symbols Sharp";
    content: "\e627"; //sync
    -webkit-animation:spin 1s reverse linear infinite;
    -moz-animation:spin 1s reverse linear infinite;
    animation:spin 1s reverse linear infinite;

    @include themed() {
      color: t($text);
      background-color: t($bg);
    }
  }

  @include breakpoint(retina) {
  	//background-image: url(../images/preloader@2x.gif);
    background-size: 100px;
  }

  @include themed() {
    background-color: t($bg);
  }
}

#content {
    position: relative;
}

#inner-content {
    position: relative;
    z-index: 0; // 999999999;
}

.browsehappy {
    position: absolute;
    width: 100%;
    z-index: 111111111;
    background: $alert-color;
    text-align: center;
    color: $white;

    @include double-inner-spaced;

    h3, .h3 {

        a {
            text-decoration: none;
        }

    }

    a {
        font-weight: $global-weight-bold;
        text-decoration: underline;
        color: $white;

        &:hover {
            color: $warning-color !important;
        }
    }
}

.moose-mark {
    max-width: 1.5rem;
    opacity: 0.6;
    @include transition-2;

    &:hover {
        opacity: 0.8;
        @include transition-1;
    }
}

#scroll-down-container, #scroll-top-container {

  i {
    font-size: 24px !important;
    //@include header-styles(h3);
    @include transition-2;

    @include themed() {
      color: t($text);
    }

    @include breakpoint(medium) {
      font-size: 32px !important;
    }
  }

  &:hover {

    i {
      animation: bounce; /* referring directly to the animation's @keyframe declaration */
      animation-duration: 1s; /* don't forget to set a duration! */
      @include transition-1;

      @include themed() {
        color: t($hover);
      }

    }
  }
}

#scroll-down-container {

  i {}
}

#scroll-top-container {
    display: none;
    position: fixed;
    z-index: 10; //99;
    bottom: 5.5rem;
    right: 0.8rem;

    @include breakpoint(xlarge) {
        bottom: 7.5rem;
        right: 1.75rem;
    }

    @include breakpoint(xxlarge) {
        bottom: 9.5rem;
        right: 9.25rem;
    }

    i {
      //color: $primary-color;
    }
}

::selection {

  @include themed() {
    color: t($btn-hover-text);
    background: t($primary-clr);
  }
}

p {
    @include header-styles(h5);

    @include themed() {
      //font-weight: t($text-font-weight);
    }
}

a {
  @include transition-2;

    &:hover, &:active {
      @include transition-1;

      @include themed() {
        color: t($hover);
      }
    }
}

.button {
  @include transition-2;
  //padding: 0.75rem 0.25rem;
  padding-bottom: 1.25rem;
  border: $border-medium solid;
  font-family: $header-font-family;
  font-weight: $global-weight-medium;
  text-transform: uppercase;
  position: relative;

  letter-spacing: 0.25rem;
  text-indent: 0.25rem;
  //padding-left: 0.75rem !important;

  @include header-styles(h5);

  @include themed() {
    color: t($bg);
    border-color: t($text);
    background-color: t($text);
  }

  &:hover, &:active, &:focus {
    @include transition-1;
    border: $border-medium solid;

    @include themed() {
      color: t($btn-hover-text);
      border-color: t($primary-clr);
      background-color: t($primary-clr);
    }
  }

  &.hollow {
    color: $white;
    border: $border-medium solid $white;
    background: transparent;

    @include themed() {
      color: t($text);
      border-color: t($text);
    }

    &:hover, &:active, &:focus {
      border: $border-medium solid;

      @include themed() {
        color: t($btn-hover-text);
        border-color: t($primary-clr);
        background-color: t($primary-clr);
      }
    }
  }

  &:after, .material-symbols-sharp {
    padding-left: 1rem;
    position: relative;
    display: inline-block;
    top: 0.275rem;
    border: none;
    font-family: "Material Symbols Sharp";
    line-height: 0.25rem;
    font-weight: $global-weight-normal;
    @include header-styles(h4);
  }
}

.cta {
  display: block;
  font-family: $tertiary-font-family;
  font-weight: $global-weight-normal;
  text-transform: uppercase;

  letter-spacing: 0.25rem;
  text-indent: 0.25rem;

  @include themed() {
    color: t($text);
  }

  @include transition-2;

  &:after, .material-symbols-sharp {
    padding-left: 1rem;
    position: relative;
    display: inline-block;
    top: 0.275rem;
    border: none;
    line-height: 0.25rem;
    font-weight: $global-weight-normal;
    font-family: "Material Symbols Sharp";

    content: "\f1df"; //east

    @include header-styles(h4);
    @include transition-2;
  }

  &:hover, &:active {
    @include transition-1;

    @include themed() {
      color: t($hover);
    }

    &:after, .material-symbols-sharp {
      padding-left: 1.5rem;
      @include transition-1;
    }
  }
}

.lead, .wpcf-field-lead, .wpcf-field-lead p {
  font-family: $body-font-family;
  line-height: $global-lineheight;
  opacity: 1;

  @include header-styles(h4);

  @include themed() {
    color: t($text-font-weight);
  }

  p {
    @include header-styles(h4);

    @include themed() {
      color: t($text-font-weight);
    }
  }
}

.section-title {
    color: $primary-color !important;
    font-family: $header-font-family !important;
    font-weight: $global-weight-medium !important;
    text-transform: uppercase;
    letter-spacing: 0.25rem;

    @include quarter-spaced-bottom;
    @include header-styles(h5);
    @include transition-2;

    a {
        color: $primary-color !important;
        font-family: $header-font-family !important;
        font-weight: $global-weight-medium !important;
        text-transform: uppercase;
        letter-spacing: 0.25rem;

        @include quarter-spaced-bottom;
        @include header-styles(h5);
        @include transition-2;

        &:hover, &:active {
            @include transition-1;
            color: $secondary-color;
        }
    }
}

.section-subtitle {
    color: $secondary-color;
    text-transform: uppercase;
    text-align: center;

    @include half-spaced-bottom;
    @include header-styles(h5);
    @include transition-2;

    a {
        color: $secondary-color;

        @include header-styles(h5);
        @include transition-2;
        @include half-spaced-bottom;

        &:hover {
            @include transition-1;
            color: $primary-color;
        }
    }
}

.breaker {
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center center;

  @include themed() {
    color: t($bg);
  }

  @include breakpoint(large) {
      background-attachment: fixed;
  }

  .breaker-overlay {
    background-color: $black-translucent;
    // position: absolute;
    width: 100%;
    @include double-inner-spaced;

    @include breakpoint(medium) {
      min-height: 50vh;
    }

    h4 {
      color: $white;
      @include header-styles(h3);
    }

    p {
      color: $white;
      font-family: $body-font-family;
      @include header-styles(h4);

      &:last-of-type {
        margin-bottom: 0;
      }

      a {
        color: $secondary-color;
        text-decoration: underline;

        &:hover, &:active {
          color: $tertiary-color;
        }
      }
    }
  }
}

.featured-image-container {
    margin-bottom: 0;
    overflow: hidden;
    border-radius: $global-radius;
    @include aspect-ratio(16, 9);
    //background-color: $primary-color;
    background-color: transparent;

    .featured-image {
        width: 100%;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;

        @include breakpoint(medium) {
            margin-bottom: 0;
        }
    }
}

a .featured-image {
  @include transition-2;
  transition: transform 1500ms ease 300ms, opacity 1500ms ease 300ms;

  @include themed() {
    opacity: t($image-opacity);
  }

  &:hover {
    @include transition-1;
    transform: scale(1.025);
    transition: transform 1500ms ease, opacity 1500ms ease;
  }
}

.circle {
    width: 100%;
    height: 0;
    padding-bottom: 100%;
    overflow: hidden;
    background-size: cover;
    background-position: 50%;
    border-radius: 50%;
    background-clip: padding-box;
}

.read-more {
    @include transition-2;
    font-family: $body-font-family;
    font-weight: $global-weight-medium;
    //text-transform: uppercase;
    color: $secondary-color;
    font-size: 80%;

    //@include header-styles(h5);

    // GOOGLE MATERIAL ICON
    .material-symbols-sharp {
      @include transition-2;
      color: $secondary-color-dark;
      position: relative;
      top: 0.35rem;
    }

    &:hover {
        @include transition-1;
        color: $tertiary-color;

        // GOOGLE MATERIAL ICON
        .material-symbols-sharp {
          @include transition-1;
          color: $tertiary-color-dark;
        }
    }
}

.pagination-container {
    @include inner-spaced;

    @include breakpoint(medium) {
    }

    .page-navigation {
        text-align: center;

        @include breakpoint(medium) {
            //text-align: left;
        }

        ul.pagination {
            margin-bottom: 0;
            list-style: none;

            li {
                margin: 0 0.5rem;

                &:first-of-type {
                    margin-left: 0;
                }

                &:last-of-type {
                    margin-right: 0;
                }

                a, .current {
                    padding: 0;
                    padding-top: .4rem;
                    line-height: 1;
                    width: 2rem;
                    height: 2rem;

                    color: $primary-color;
                    background-color: $secondary-color-light; //;
                    border: none; //$border-medium solid $secondary-color;
                    border-radius: $global-radius;
                    font-weight: $global-weight-normal;
                    font-family: $body-font-family;
                    text-align: center;

                    @include header-styles(h5);
                    @include transition-2;

                    @include breakpoint(medium) {
                        width: 2.25rem;
                        height: 2.25rem;
                        @include header-styles(h4);
                    }

                    @include breakpoint(xlarge) {
                        width: 2.5rem;
                        height: 2.5rem;
                    }

                    &:hover {
                        color: $white;
                        background-color: $secondary-color;
                        border: none; //$border-medium solid $secondary-color-dark;
                        //border-radius: 100px;
                        @include transition-1;
                    }
                }

                .current {
                    display: block;
                    color: $secondary-color-light !important;
                    background-color: $primary-color;
                    //border: $border-medium solid $primary-color;
                    //border-radius: 100px !important;
                    font-weight: $global-weight-medium;
                }

                &.disabled {
                    padding: 0;
                }
            }
        }
    }
}



.sidebar {
    padding: 2rem;
    border-radius: $global-radius;
    background-color: $secondary-color-light;

    @include breakpoint(medium) {
        //border-left: $border-thin solid $black;
    }
}

.card {
  border: none;
  border-radius: $global-radius;
  background-color: $primary-color-light;
  margin-bottom: 0;
  padding: rem-calc(map-get($grid-column-gutter, small));

  @include breakpoint(medium) {
      padding: rem-calc(map-get($grid-column-gutter, medium));
  }

  @include breakpoint(xlarge) {
      padding: rem-calc(map-get($grid-column-gutter, medium));
  }

  @include breakpoint(xxlarge) {
      padding: rem-calc(map-get($grid-column-gutter, xlarge));
  }
}

.callout {

    @include breakpoint(large) {
        padding: 1.111rem;
    }
}

.close-button {
  height: 6rem;
  position: initial;

  @include breakpoint(medium) {
    position: static; //absolute;
  }

  button, .button {
    height: 6rem;
    color: $primary-color;
    font-family: $tertiary-font-family;
    font-weight: $global-weight-light;
    line-height: 0.7;
    @include header-styles(h6);
    @include transition-2;

    .times {
      display: block;
      color: $tertiary-color;
      font-weight: $global-weight-normal;
      font-size: 24px;
      //@include header-styles(h2);
      @include transition-2;

      @include breakpoint(medium) {
        margin-bottom: (rem-calc(map-get($grid-column-gutter, small)) / 4 ) !important;
        //@include header-styles(h3);
      }
    }

    &:hover, &:active {
      color: $primary-color-dark;
      cursor: pointer;
      @include transition-1;

      .times {
        @include transition-1;
        color: $tertiary-color-dark;
      }
    }
  }
}

.modal-open .modal, .btn:focus, a:focus {
    outline:none;
}

.reveal {
    color: $black;
    background-color: $body-background;
    padding: 0;
    z-index: 11111111111;
    top: 0 !important;
    @include inner-spaced-bottom;

    @include breakpoint(medium) {
      top: 4vh !important;
    }

    .reveal-title, h3, .h3 {
        color: $primary-color;
        font-family: $header-font-family;
        font-weight: $global-weight-bold;
        @include header-styles(h2);
        @include half-spaced-top;
        @include quarter-spaced-bottom;
    }

    .section-title {
        color: $primary-color;
        @include half-spaced-bottom;

        a, a:link, a:visited {
            color: $primary-color !important;

            &:hover, &:active {
                color: $black !important;
            }
        }
    }

    .lead, .wpcf-field-lead {
        color: $black;
        @include quarter-spaced-bottom;

        p {
            color: $black;

            a {
                color: $black;

                &:hover, &:active {
                    color: $secondary-color;
                }
            }
        }
    }

    p {

        a {
            color: $tertiary-color;

            &:hover, &:active {
                color: $secondary-color;
            }
        }
    }

    .featured-image-container {
        @include half-spaced-bottom;
        @include aspect-ratio(64, 27);

        @include breakpoint(medium) {
            margin-bottom: 0;
        }
    }

    .callout {
        background-color: transparent;
    }
}




/******************************************
CUSTOM COMPONENT STYLES
******************************************/









/*********************
HEADER STYLES – MAIN NAVIGATION
*********************/

///////// LOGO CHANGES FOR SINGLE POST FURTHER DOWN

// REGULAR HEIGHT STYLES

#top-bar-menu {
  padding: 0;
  width: 100%;
  height: 6rem;
  display: block;
  overflow: hidden;
  position: fixed;
  top: 0;
  z-index: 2; //1;
  //background-image: linear-gradient($black-translucent-dark, $black-transparent);
  background-color: rgba($body-background, 0);
  //border-bottom: $border-thin solid $white-transparent;

  -webkit-transition: height 250ms ease 300ms;
  -moz-transition: height 250ms ease 300ms;
  -o-transition: height 250ms ease 300ms;
  transition: height 250ms ease 300ms;

  @include breakpoint(medium) {
    box-shadow: none;
  }

  #menu-container {
    top: 0;
    background: transparent; //$white;

    @include breakpoint(large) {
      position: fixed;
    }

    // MENU ICON STYLES (menu-icon)
    #offcanvas-menu-area {

      #hamburger-icon, #theme-toggle {
        outline: none;
        position: absolute;
        right: 0;

        i {
          padding: 2.25rem 0;
          font-size: 24px;

          //@include header-styles(h3);
          @include transition-2;

          /* -webkit-transition: padding 250ms ease 300ms;
          -moz-transition: padding 250ms ease 300ms;
          -o-transition: padding 250ms ease 300ms;
          transition: padding 250ms ease 300ms; */

          @include themed() {
            color: t($text);
          }
        }

        &:hover, &:active {

          i {
            cursor: pointer;
            @include transition-1;

            @include themed() {
              color: t($hover);
            }
          }
        }
      }

      #theme-toggle {
        right: rem-calc(map-get($grid-column-gutter, small) * 2 );

        @include breakpoint(medium) {
          right: rem-calc(map-get($grid-column-gutter, medium) * 2 );
        }

        @include breakpoint(xlarge) {
          right: rem-calc(map-get($grid-column-gutter, xlarge) * 2 );
        }

        @include breakpoint(xxlarge) {
          right: rem-calc(map-get($grid-column-gutter, xxlarge) * 2 );
        }
      }
    }

    #logo-area {
      height: 6rem;

      .top-menu-logo {
        height: 6rem;
        max-width: 7rem;
        @include transition-2;

        //background: url(../images/logo-ludus-park-reversed.png); //url(../images/top-menu-logo-white.png);
        background-size: contain;
        background-position: left center;
        background-repeat: no-repeat;

        @include themed() {
          background-image: t($logo);
        }

        @include breakpoint(medium) {
          max-width: 10rem;
          //margin-right: auto;
          //margin-left: auto;
        }

        @include breakpoint(large) {
          //max-width: 12rem;
        }

        @include breakpoint(xlarge) {
          max-width: 10rem;
        }
      }
    }

    #menu-area {
      height: 6rem;

      //ul
      #main-nav {
        height: 6rem;
        padding-top: 0;
        float: right;
        background: transparent;

        @include breakpoint(large) {
          padding-top: 0;
        }

        //li
        .menu-item {
          margin: 0;
          padding: 0;
          display: inline-block;
          height: fit-content;
          background-color: transparent;

          @include breakpoint(large) {
            margin: 0;
            padding: 0;
            background-color: transparent;
            height: unset;
          }

          a {
            //padding: 0;
            font-weight: $global-weight-medium;
            font-family: $body-font-family;
            background-color: transparent; //$primary-color;
            @include header-styles(h5);
            @include transition-2;

            padding-top: 2.5rem;
            padding-bottom: 2.5rem;
            padding-right: 0;
            //padding-right: rem-calc(map-get($grid-column-gutter, small) );
            padding-left: rem-calc(map-get($grid-column-gutter, small) );

            @include themed() {
              color: t($text);
            }

            @include breakpoint(medium) {
              //padding-right: rem-calc(map-get($grid-column-gutter, medium) );
              padding-left: rem-calc(map-get($grid-column-gutter, medium) );
            }

            @include breakpoint(large) {
              //padding-right: rem-calc(map-get($grid-column-gutter, medium) );
              padding-left: rem-calc(map-get($grid-column-gutter, medium) );
              //@include header-styles(h5);
            }

            @include breakpoint(xlarge) {
              //padding-right: rem-calc(map-get($grid-column-gutter, xlarge) );
              padding-left: rem-calc(map-get($grid-column-gutter, xlarge) );
            }

            @include breakpoint(xxlarge) {
              //padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) );
              padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) );
            }

            &:after {
              border: none;
              content: none;
            }
          }

          &:hover, &:active {
            background-color: transparent;

            @include breakpoint(large) {
              background-color: transparent;

              a {
                @include transition-1;

                @include themed() {
                  color: t($hover);
                }
              }
            }

            .menu-icon {
              cursor: pointer;

              &::after {
                background: $medium-gray; //$primary-color;
                box-shadow: 0 7px 0 $medium-gray, 0 14px 0 $medium-gray;
              }
            }
          }

          .menu-icon {

            &::after {
              background: $black;
              box-shadow: 0 7px 0 $black, 0 14px 0 $black;
            }
          }

          &.active {

            a {
              color: $secondary-color;
              //background-color: transparent;
              //border-bottom: $border-medium solid $primary-color;
            }

            &:hover, &:active {

              a {
                //color: $primary-color !important;
                background: transparent; //$primary-color-dark !important;
                cursor: default;
              }
            }
          }

          &.button {
            margin-left: 1.5rem;
            display: initial;
            padding: 0; //0.5vh 2vh;
            background: transparent;
            border: none;

            a {
              margin: 1.5rem 0;
              padding: 0.8rem !important; //0.8rem 0.75rem !important;
              padding-bottom: 1rem !important;
              font-family: $header-font-family;
              border-radius: $global-radius;
              border: $border-thin solid;

              @include themed() {
                color: t($bg);
                background-color: t($text);
                border-color: t($text);
              }
            }

            &:hover, &:active {

              a {

                @include themed() {
                  color: t($surface-3);
                  background-color: t($hover);
                  border-color: t($hover);
                }
              }
            }

            &.active {
              text-decoration: none;

              &:hover, &:active {
                cursor: default;

                a {
                  color: $secondary-color-dark;
                  background: $secondary-color;
                  border: $border-thin solid $secondary-color;
                }
              }

              a {

                  @include themed() {
                    color: t($bg);
                    background-color: t($text-medium-emphasis);
                    border-color: t($text-medium-emphasis);
                  }
              }
            }

            &.hollow {

              a {
                background: transparent;
                border: $border-medium solid;

                @include themed() {
                  color: t($text);
                  border-color: t($text);
                }
              }

              &:hover, &:active {
                //cursor: default;

                a {
                  border: $border-medium solid;

                  @include themed() {
                    color: t($btn-hover-text);
                    background-color: t($hover);
                    border-color: t($hover);
                  }
                }
              }

              &.active {
                text-decoration: none;

                a {
                  border: $border-medium solid;

                  @include themed() {
                    color: t($text-medium-emphasis);
                    background-color: t($surface-1);
                    border-color: t($text-medium-emphasis);
                  }
                }

                &:hover, &:active {
                  cursor: default;

                  a {

                    @include themed() {
                      color: t($text-medium-emphasis);
                      background-color: t($surface-1);
                      border-color: t($text-medium-emphasis);
                    }
                  }
                }
              }
            }

          }


          &.is-dropdown-submenu-parent {

            a {

              &:after {
                padding-left: 0.5rem;
                position: initial;
                display: inline-table;
                border: none;
                font-family: "Material Symbols Sharp";
                content: "\e5cf";
              }

              &:hover, &:active {

                &:after {
                }
              }
            }

            //ul
            .is-dropdown-submenu {
              @include transition-1;
              display: block;
              visibility: hidden;
              opacity: 0;
              background-color: $white;
              box-shadow: none;
              text-align: left;
              border: none;

              &.js-dropdown-active {
                @include transition-1;
                visibility: visible;
                opacity: 1;
              }

              //li
              .is-dropdown-submenu-item {

                a {
                  padding: 1rem;
                  text-transform: capitalize !important;
                  text-decoration: none !important;
                  border-bottom: $border-thin solid $secondary-color;
                  background: $white;
                  color: $primary-color;
                  cursor: pointer;
                  @include transition-2;

                  &:after {
                    border: none;
                    content: none;
                  }

                  &:hover, &:active {
                    @include transition-1;
                    color: $white;
                    background: $primary-color;
                  }
                }

                &.active {

                  a {
                    color: $white;
                    background: $secondary-color;
                    @include transition-2;

                    &:hover, &:active {
                      color: $white;
                      background: $primary-color;
                      @include transition-1;
                    }
                  }

                  &:after {
                    border-color: $primary-color transparent transparent;
                  }

                  &.current-menu-ancestor {

                    a {
                      color: $primary-color;
                      background: $secondary-color-light;
                      @include transition-2;

                      &:hover, &:active {
                        color: $white;
                        background: $primary-color;
                        @include transition-1;
                      }
                    }
                  }
                }

                &.is-dropdown-submenu-parent {

                  a {

                    &:after {
                      position: absolute;
                      display: inline-block;
                      padding-left: 0.5rem;
                      width: 90%;
                      top: 45%;
                      font-family: "Material Symbols Sharp";
                      text-align: right;
                      content: "\e5cc";
                      border: none;
                    }
                  }

                  //ul
                  .is-dropdown-submenu {

                    //li
                    .is-dropdown-submenu-item {

                      a {
                        color: $primary-color;
                        background: $white;
                        @include transition-2;

                        &:hover, &:active {
                          color: $white;
                          background: $primary-color;
                          @include transition-1;
                        }

                        &:after {
                          border: none;
                          content: none;
                        }
                      }

                      &.active {

                        a {
                          color: $white;
                          background: $secondary-color;
                          @include transition-2;

                          &:hover, &:active {
                            color: $white;
                            background: $primary-color;
                            @include transition-1;
                          }
                        }

                        &:after {
                          border-color: $primary-color transparent transparent;
                        }

                        &.current-menu-ancestor {

                          a {
                            color: $primary-color;
                            background: $secondary-color-light;
                            @include transition-2;

                            &:hover, &:active {
                              color: $white;
                              background: $primary-color;
                              @include transition-1;
                            }
                          }
                        }
                      }

                      &.is-dropdown-submenu-parent {

                        a {

                          &:after {
                            padding-left: 0.5rem;
                            position: absolute;
                            display: inline-table;
                            top: 45%;
                            font-family: "Material Symbols Sharp";
                            content: "\e5cc";
                            border: none;
                          }
                        }

                        .is-dropdown-submenu {

                          .is-dropdown-submenu-item {

                            a {
                              background: $white;
                              color: $primary-color;

                              &:hover, &:active {
                                color: $white;
                                background: $primary-color;
                                @include transition-1;
                              }

                              &:after {
                                border: none;
                                content: none;
                              }
                            }

                            &.active {

                              a {
                                color: $white;
                                background: $secondary-color;
                                @include transition-2;

                                &:hover, &:active {
                                  color: $white;
                                  background: $primary-color;
                                  @include transition-1;
                                }
                              }

                              &:after {
                                border-color: $primary-color transparent transparent;
                              }

                              &.current-menu-ancestor {

                                a {
                                  color: $primary-color;
                                  background: $secondary-color-light;
                                  @include transition-2;

                                  &:hover, &:active {
                                    color: $white;
                                    background: $primary-color;
                                    @include transition-1;
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }

      #search-icon-container {
        display: inline-block;
        font-size: 1rem;
        float: right;
        padding-left: rem-calc(map-get($grid-column-gutter, small) );

        @include breakpoint(medium) {
          //padding-right: rem-calc(map-get($grid-column-gutter, medium) );
          padding-left: rem-calc(map-get($grid-column-gutter, medium) );
        }

        @include breakpoint(large) {
          //padding-right: rem-calc(map-get($grid-column-gutter, medium) );
          padding-left: rem-calc(map-get($grid-column-gutter, medium) );
          //@include header-styles(h5);
        }

        @include breakpoint(xlarge) {
          //padding-right: rem-calc(map-get($grid-column-gutter, xlarge) );
          padding-left: rem-calc(map-get($grid-column-gutter, xlarge) );
        }

        @include breakpoint(xxlarge) {
          //padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) );
          padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) );
        }

        i {
          color: $white;
          padding: 2.25rem 0;
          @include transition-2;

          @include breakpoint(xlarge) {
            font-size: 32px;
            padding: 2rem 0;
          }

          &:hover, &:active {
            color: $tertiary-color;
            @include transition-1;
          }
        }
      }
    }
  }

  ///// REDUCED HEIGHT STYLES

  &.cbp-af-header-shrink, &.shrink {
    background-image: none;
    //background-color: rgba($body-background, 0.95);
    border-bottom: $border-thin solid;
    height: 4rem !important;
    top: 0;

    -webkit-transition: height 250ms ease;
    -moz-transition: height 250ms ease;
    -o-transition: height 250ms ease;
    transition: height 250ms ease;

    @include themed() {
      background-color: t($surface-1);
      border-bottom-color: t($surface-2);
    }

    #menu-container {

      // MENU ICON STYLES (menu-icon)
      #offcanvas-menu-area {

        .menu {

          li {

            #hamburger-icon, #theme-toggle {

              i {
                //color: $primary-color !important;
                padding: 1.3rem 0 !important;
                font-size: 24px;
                @include transition-2;

                /* -webkit-transition: padding 250ms ease !important;
                -moz-transition: padding 250ms ease !important;
                -o-transition: padding 250ms ease !important;
                transition: padding 250ms ease !important; */

                @include themed() {
                  color: t($text) !important;
                }

                @include breakpoint(large) {
                padding: 1.25rem 0 !important;
                }
              }

              &:hover, &:active {

                i {
                  cursor: pointer;
                  //color: $tertiary-color !important;
                  @include transition-1;

                  @include themed() {
                    color: t($hover) !important;
                  }
                }
              }

            }
          }
        }
      }

      #logo-area {
        height: 4rem;

        -webkit-transition: padding 250ms ease;
        -moz-transition: padding 250ms ease;
        -o-transition: padding 250ms ease;
        transition: padding 250ms ease;

        .top-menu-logo {
          max-width: 7rem;
          height: 4rem;

          //background: url(../images/logo-ludus-park.png);
          background-size: contain;
          background-position: left center;
          background-repeat: no-repeat;
          @include transition-1;

          @include themed() {
            background-image: t($logo);
          }
        }
      }

      #menu-area {
        height: 4rem !important;

        #main-nav {
          height: 4rem !important;

          .menu-item {
            //margin: 1rem 0 !important;

            @include breakpoint(large) {
              margin: 0 !important;
            }
          }
        }

        @include breakpoint(large) {

          #main-nav {

            .menu-item {
              margin: 0;
              //margin: 0 !important;

              a {
                //color: $primary-color;
                padding-top: 1.5rem;
                padding-bottom: 1.5rem;
                @include header-styles(h5);

                -webkit-transition: padding 250ms ease;
                -moz-transition: padding 250ms ease;
                -o-transition: padding 250ms ease;
                transition: padding 250ms ease;

                @include themed() {
                  color: t($text);
                }

                @include breakpoint(xlarge) {
                  //margin: 1.2rem 0 !important;
                }
              }

              &:hover, &:active {

                @include breakpoint(large) {

                  a {
                    @include transition-1;

                    @include themed() {
                      color: t($hover);
                    }
                  }
                }
              }

              .menu-icon {

                &::after {
                  background: $black;
                  box-shadow: 0 7px 0 $black, 0 14px 0 $black;
                }
              }

              &.active {

                a {
                  //color: $secondary-color;

                  @include themed() {
                    color: t($primary-clr) !important;
                  }
                }

                &:hover, &:active {

                  a {
                    //color: $secondary-color !important;
                    background: transparent; //$primary-color-dark !important;
                    cursor: default;

                    @include themed() {
                      color: t($primary-clr) !important;
                    }
                  }
                }
              }

              &.button {
                margin-top: 0 !important;

                a {
                  margin-top: 0.9rem !important;
                  padding: 0.5rem !important; //0.75rem 0.5rem !important;
                  padding-bottom: 0.7rem !important;
                  @include header-styles(h6);
                  @include transition-2;

                  @include themed() {
                    color: t($bg);
                  }
                }

                &:hover, &:active {

                  a {

                    @include themed() {
                      color: t($surface-3);
                    }
                  }
                }

                &.active {
                  text-decoration: none;

                  a {

                    @include themed() {
                      color: t($bg) !important;
                      background-color: t($text-medium-emphasis);
                    }
                  }

                  &:hover, &:active {
                    cursor: default;

                    a {

                      @include themed() {
                        color: t($bg) !important;
                        background-color: t($text-medium-emphasis);
                      }
                    }
                  }
                }

                &.hollow {

                  a {
                    background: transparent;
                    border: $border-medium solid;

                    @include themed() {
                      color: t($text);
                      border-color: t($text);
                    }
                  }

                  &:hover, &:active {
                    //cursor: default;

                    a {
                      border: $border-medium solid;

                      @include themed() {
                        color: t($btn-hover-text);
                        border-color: t($hover);
                        background-color: t($hover);
                      }
                    }
                  }

                  &.active {
                    text-decoration: none;

                    a {
                      background: transparent;

                      @include themed() {
                        color: t($text-medium-emphasis) !important;
                        background-color: t($surface-1);
                        border-color: t($text-medium-emphasis);
                      }
                    }

                    &:hover, &:active {
                      cursor: default;

                      a {
                        background: transparent;

                        @include themed() {
                          color: t($text-medium-emphasis) !important;
                          background-color: t($surface-1);
                          border-color: t($text-medium-emphasis);
                        }
                      }
                    }
                  }
                }

              }
            }
          }
        }

        #search-icon-container {

          i {
            color: $primary-color;
            padding: 1.25rem 0;
            @include transition-1;

            @include breakpoint(xlarge) {
              padding: 1rem 0;
            }

            &:hover, &:active {
              color: $tertiary-color;
              @include transition-1;
            }
          }
        }
      }
    }
  }
}

// MENU COLOR CHANGE FOR CHANGE FOR SINGLE POST

.page-template-default, .page-template-template-full-width, .single-post, .category, .archive {

  #top-bar-menu {
    background-image: none;

    #menu-container {

      // MENU ICON STYLES (menu-icon)
      #offcanvas-menu-area {

        #hamburger-icon, #theme-toggle {

          i {
            color: $primary-color;

            &:hover, &:active {
              color: $secondary-color;
            }
          }
        }
      }

      #logo-area {

        .top-menu-logo {
          //background: url(../images/logo-ludus-park.png);
          background-size: contain;
          background-position: left center;
          background-repeat: no-repeat;

          @include themed() {
            background-image: t($logo);
          }
        }

      }

      #menu-area {

        #main-nav {

          li {

            a {
              color: $primary-color;

              &:hover {
                color: $secondary-color;
              }
            }

            &.button {

              a {
                color: $white;

                &:hover {
                  color: $white;
                }
              }
            }
          }
        }

        #search-icon-container {

          i {
            color: $primary-color;

            &:hover, &:active {
              color: $secondary-color;
            }
          }
        }
      }
    }
  }
}




/*********************
HEADER STYLES - OFFCANVAS MENU
*********************/

.off-canvas-wrapper {
}

.js-off-canvas-overlay {

  @include themed() {
    background-color: t($offcanvas-overlay);
  }
}

.js-off-canvas-overlay.is-overlay-fixed {
    z-index: 3; //2; //111111111;
}

.off-canvas {
    border-left: none; //$border-thin solid $black;
    background: $primary-color-light;
    //@include half-inner-spaced-bottom;

      @include themed() {
        background-color: t($surface-1);
        box-shadow: 5px 0px 10px t($offcanvas-overlay);
      }

    @include breakpoint(medium) {
      //padding-left: (rem-calc(map-get($grid-column-gutter, medium)) / 2);
      //padding-right: (rem-calc(map-get($grid-column-gutter, medium)) / 2);
    }

    #offcanvas-section-top {
      @include two-third-viewport;
    }

    #offcanvas-section-bottom {
      @include third-viewport;
      display: flex;
      //padding-bottom: rem-calc(map-get($grid-column-gutter, small));

      @include breakpoint(medium) {
        //padding-bottom: rem-calc(map-get($grid-column-gutter, medium));
      }

      @include breakpoint(xlarge) {
        //padding-bottom: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
      }

      @include breakpoint(xxlarge) {
        //padding-bottom: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
      }
    }

    .close-button {

      button {
        cursor: pointer;
        //margin-top: 1.5rem;
      }

      button, .button {
        padding-right: rem-calc(map-get($grid-column-gutter, small));

        @include themed() {
          color: t($text);
        }

        @include breakpoint(medium) {
          padding-right: rem-calc(map-get($grid-column-gutter, medium));
        }

        @include breakpoint(xlarge) {
          padding-right: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
        }

        @include breakpoint(xxlarge) {
          padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
        }

        .times {

          @include themed() {
            color: t($text);
          }
        }

        &:hover, &:active {
          cursor: pointer;
          @include transition-1;

          @include themed() {
            color: t($hover);
          }

          .times {
            @include transition-1;

            @include themed() {
              color: t($hover);
            }
          }
        }
      }
    }

    #offcanvas-logo {

      @include breakpoint(medium) {
        @include half-spaced-bottom;
    }

      #logo-area {

        .top-menu-logo {
          margin-left: rem-calc(map-get($grid-column-gutter, small));
          height: 6rem;
          max-width: 7rem;

          //background: url(../images/logo-ludus-park.png); //url(../images/top-menu-logo-white.png);
          background-size: contain;
          background-position: left center;
          background-repeat: no-repeat;

          @include themed() {
            background-image: t($logo);
          }

          @include breakpoint(medium) {
            max-width: 10rem;
            margin-left: rem-calc(map-get($grid-column-gutter, medium));
          }

          @include breakpoint(xlarge) {
            //max-width: 10rem;
            margin-left: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
          }

          @include breakpoint(xxlarge) {
            margin-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
          }
        }
      }
    }

    #offcanvas-menu {

      .menu {

        .menu-item {

          > a {
            padding: rem-calc(map-get($grid-column-gutter, small) ) rem-calc(map-get($grid-column-gutter, small));
            font-family: $header-font-family;
            font-weight: $global-weight-light;
            line-height: $global-lineheight-short;
            //text-transform: uppercase;
            //letter-spacing: 0.15rem;
            //text-indent: 0.15rem;
            @include header-styles(h2);
            @include transition-2;

            @include themed() {
              color: t($text) !important;
              background-color: t($surface-1) !important;
            }

            @include breakpoint(medium) {
              padding: rem-calc(map-get($grid-column-gutter, medium) / 2 ) rem-calc(map-get($grid-column-gutter, medium));
            }

            @include breakpoint(xlarge) {
              padding: rem-calc(map-get($grid-column-gutter, xlarge) / 3 ) rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
            }

            @include breakpoint(xxlarge) {
              padding: rem-calc(map-get($grid-column-gutter, xxlarge) / 3 ) rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
            }
          }

          &:hover {

            > a {
              padding-left: rem-calc(map-get($grid-column-gutter, small) * 1.5 );
              @include transition-1;

              @include themed() {
                color: t($text) !important;
                background-color: t($surface-2) !important;
              }

              @include breakpoint(medium) {
                padding-left: rem-calc(map-get($grid-column-gutter, medium) * 1.25 );
              }

              @include breakpoint(xlarge) {
                padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 1.25 );
              }

              @include breakpoint(xxlarge) {
                padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 1.5 );
              }
            }
          }


          &.active {

            > a {

              @include themed() {
                color: t($primary-clr) !important;
                background-color: t($surface-3) !important;
              }
            }

            &:hover {

              > a {
                padding-left: rem-calc(map-get($grid-column-gutter, small));

                @include themed() {
                  color: t($primary-clr) !important;
                  background-color: t($surface-3) !important;
                }

                @include breakpoint(medium) {
                  padding-left: rem-calc(map-get($grid-column-gutter, medium));
                }

                @include breakpoint(xlarge) {
                  padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 1.25 );
                }

                @include breakpoint(xxlarge) {
                  padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 1.5 );
                }
              }
            }
          }

          %accordion-submenu-item {

              a {
                color: $tertiary-color !important;
                background: $secondary-color-light !important;
              }

              &:hover {

                a {
                  color: $tertiary-color-dark !important;
                  background: $secondary-color-light !important;
                }
              }
          }

          &.is-accordion-submenu-parent {

            &.is-accordion-submenu-item {

              a {

                &.active {
                  @extend %accordion-submenu-item;

                  &.current-menu-ancestor {
                    @extend %accordion-submenu-item;
                  }
                }
              }
            }

            //ul
            &.is-accordion-submenu {

              &.is-accordion-submenu-item {

                a {

                  &.active {
                    @extend %accordion-submenu-item;

                    &.current-menu-ancestor {
                      @extend %accordion-submenu-item;
                    }
                  }
                }


                &.is-accordion-submenu-parent {
                  @extend %accordion-submenu-item;

                  &.is-accordion-submenu {

                    &.is-accordion-submenu-item {

                      a {

                        &.active {
                          @extend %accordion-submenu-item;

                          &.current-menu-ancestor {
                            @extend %accordion-submenu-item;
                          }
                        }
                      }

                      &.is-accordion-submenu-parent {
                        @extend %accordion-submenu-item;

                        &.is-accordion-submenu {

                          &.is-accordion-submenu-item {

                            a {

                              &.active {
                                @extend %accordion-submenu-item;

                                &.current-menu-ancestor {
                                  @extend %accordion-submenu-item;
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }

          &.has-submenu-toggle {
            a {
              margin-right: 0;
            }
          }

          ////// SUBMENU TOGGLE

          .submenu-toggle {
            border-radius: $global-radius;
            background: $primary-color-transparent !important;
            right: 0;
            text-align: right;
            padding-right: rem-calc(map-get($grid-column-gutter, small));
            width: rem-calc(map-get($grid-column-gutter, small) * 3.5 );
            height: rem-calc(map-get($grid-column-gutter, small) * 3.75 );
            @include transition-2;

            @include breakpoint(medium) {
              padding-right: rem-calc(map-get($grid-column-gutter, medium));
              width: rem-calc(map-get($grid-column-gutter, medium) * 3 );
              height: rem-calc(map-get($grid-column-gutter, medium) * 2.15 );
            }

            @include breakpoint(xlarge) {
              padding-right: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
              width: rem-calc(map-get($grid-column-gutter, xlarge) * 1.5 );
              height: rem-calc(map-get($grid-column-gutter, xlarge) * 1.375 );
            }

            @include breakpoint(xxlarge) {
              padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
              width: rem-calc(map-get($grid-column-gutter, xxlarge) * 1.5 );
              height: rem-calc(map-get($grid-column-gutter, xxlarge) * 1.2 );
            }

            &:after {
                //padding: 1.25rem 0.5rem;
                color: $primary-color;
                position: initial;
                display: inline-table;
                border: none;
                font-family: "Material Symbols Sharp";
                content: "\e5cf";
                @include header-styles(h3);
            }

            &[aria-expanded="true"] {
              background: transparent !important;

              &:after {
                animation: none !important;
              }
            }

            &:hover {
              color: $primary-color-dark !important;
              background: $primary-color-translucent-light !important;
              @include transition-1;

              &:after {

                @include breakpoint(large) {
                  //animation: bounce;
                  //animation-duration: 1.5s;
                }
              }
            }

            &:focus {
              outline: none;
            }
          }


          ////// SUBMENU ITEMS

          &.is-submenu-item {
            background: $primary-color-light !important;
            border-bottom: $border-thin solid $secondary-color-translucent;

            &:first-of-type {
              border-top: $border-thin solid $secondary-color-translucent;
            }

            > a {
              @include header-styles(h5);
            }

            > .is-accordion-submenu {

              > .is-accordion-submenu-item {

                &:last-of-type {
                  border-bottom: none;
                }

                > a {
                  font-weight: $global-weight-normal;
                  padding-left: rem-calc(map-get($grid-column-gutter, small) * 2 );

                  @include breakpoint(medium) {
                    padding-left: rem-calc(map-get($grid-column-gutter, medium) * 1.5 );
                  }

                  @include breakpoint(xlarge) {
                    padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 1.25 );
                  }

                  @include breakpoint(xxlarge) {
                    padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 1.5 );
                  }
                }

                &:hover {
                  > a {
                    padding-left: rem-calc(map-get($grid-column-gutter, small) * 1.75 );

                    @include breakpoint(medium) {
                      padding-left: rem-calc(map-get($grid-column-gutter, medium) * 1.75 );
                    }

                    @include breakpoint(xlarge) {
                      padding-left: rem-calc(map-get($grid-column-gutter, xlarge));
                    }

                    @include breakpoint(xxlarge) {
                      padding-left: rem-calc(map-get($grid-column-gutter, xxlarge));
                    }
                  }
                }

                &.current-menu-item {

                  &:hover {

                    > a {
                      padding-left: rem-calc(map-get($grid-column-gutter, small) * 1.5 );

                      @include breakpoint(medium) {
                        padding-left: rem-calc(map-get($grid-column-gutter, medium) * 1.5 );
                      }

                      @include breakpoint(xlarge) {
                        padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 1.25 );
                      }

                      @include breakpoint(xxlarge) {
                        padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 1.5 );
                      }
                    }
                  }
                }
              }
            }

            .submenu-toggle {
              height: rem-calc(map-get($grid-column-gutter, small) * 3 );
              width: rem-calc(map-get($grid-column-gutter, medium) * 2.15 );

              @include breakpoint(medium) {
                height: rem-calc(map-get($grid-column-gutter, medium) * 1.65 );
                width: rem-calc(map-get($grid-column-gutter, medium) * 2.75 );
              }

              @include breakpoint(xlarge) {
                height: rem-calc(map-get($grid-column-gutter, xlarge) * 1.07 );
                width: rem-calc(map-get($grid-column-gutter, xlarge) * 1.35 );
              }

              @include breakpoint(xxlarge) {
                height: rem-calc(map-get($grid-column-gutter, xlarge) * 1.275 );
                width: rem-calc(map-get($grid-column-gutter, xxlarge) * 1.35 );
              }

              &:after {
                @include header-styles(h4);
              }
            }
          }


          ////// CURRENT MENU PARENT ITEMS

          &.current-menu-parent, &.current-menu-ancestor {

            &:hover {

              > a {
                color: $tertiary-color-dark !important;
                background: $secondary-color-light !important;
                //padding-left: rem-calc(map-get($grid-column-gutter, small) * 1.5 );

                @include breakpoint(medium) {
                  //padding-left: rem-calc(map-get($grid-column-gutter, medium) * 1.5 );
                }

                @include breakpoint(xlarge) {
                  //padding-left: rem-calc(map-get($grid-column-gutter, xlarge) * 1.5 );
                }

                @include breakpoint(xxlarge) {
                  //padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) * 1.5 );
                }
              }
            }
          }


          ////// CURRENT MENU ITEM

          &.current-menu-item {

            > a {
              color: $tertiary-color !important;
              background: $primary-color-light !important;
              cursor: default;
            }

            &:hover {

              > a {
                color: $tertiary-color !important;
                background: $primary-color-light !important;
                padding-left: rem-calc(map-get($grid-column-gutter, small));

                @include breakpoint(medium) {
                  padding-left: rem-calc(map-get($grid-column-gutter, medium));
                }

                @include breakpoint(xlarge) {
                  padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 2);
                }

                @include breakpoint(xxlarge) {
                  padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 2);
                }
              }
            }
          }


          ////// CUSTOM MENU BUTTON

          &.button {
              background: none;
              border: none;
              padding: 0;
              margin-bottom: 0;
              transition: none;

              @include quarter-spaced;

              @include breakpoint(medium) {
                padding: 0.75rem (rem-calc(map-get($grid-column-gutter, small)) / 2);
              }

              a {
                  padding: 0.75rem (rem-calc(map-get($grid-column-gutter, small)) / 2); //.25rem;
                  //height: 3rem;
                  color: $white !important;
                  background: $primary-color !important;
                  border: $border-thin solid $primary-color !important;
                  border-radius: $global-radius;
                  font-family: $header-font-family;
                  font-weight: $global-weight-medium;
                  text-transform: uppercase;

                  @include header-styles(h5);
              }

              &:hover, &:active {
                  background: none;
                  border: none;
                  box-shadow: none;
                  position: relative;
                  top: 0;
                  left: 0;

                  a {
                      color: $white !important;
                      background: $primary-color-dark !important;
                      border: $border-thin solid $primary-color-dark !important;
                  }
              }

              &.hollow {
                  background: none;
                  border: none;

                  a {
                      color: $white !important;
                      border: $border-thin solid $white !important;
                      background: transparent !important;
                  }

                  &:hover, &:active {
                      background: none;
                      border: none;

                      a {
                          color: $white !important;
                          background: $primary-color !important;
                          border: $border-thin solid $primary-color !important;
                      }
                  }
              }
          }

          &.small {

            a {
              font-weight: $global-weight-normal;
              @include header-styles(h5);

              @include breakpoint(medium) {
                @include header-styles(h4);
              }
            }
          }
        }
      }
    }


    // Set the height of the searchbar here
    @mixin offcanvas-search-height {
      height: 6rem;

      @include breakpoint(medium) {
        height: 5rem;
      }

      @include breakpoint(xlarge) {
        height: 6rem;
      }
    }

    #offcanvas-search {
      width: 100%;
      @include half-spaced-top;

      .search-form {
        /*padding-left: rem-calc(map-get($grid-column-gutter, small));
        padding-right: rem-calc(map-get($grid-column-gutter, small));

        @include breakpoint(medium) {
          padding-left: rem-calc(map-get($grid-column-gutter, medium));
          padding-right: rem-calc(map-get($grid-column-gutter, medium));
        }

        @include breakpoint(xlarge) {
          padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
          padding-right: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
        }

        @include breakpoint(xxlarge) {
          padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
          padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
        } */

        .input-group {
          margin-bottom: 0;
          @include offcanvas-search-height;
          @include transition-2;
          @include webkit-fix;

          .input-group-field {
            padding: 0.5rem;
            //padding-left: 0;
            font-family: $header-font-family;
            font-weight: $global-weight-normal;
            background-color: transparent; //$white;
            border: none;
            //border-bottom: $border-thin solid;
            box-shadow: none;
            @include offcanvas-search-height;
            @include transition-2;

            padding-left: rem-calc(map-get($grid-column-gutter, small));

            @include themed() {
              color: t($text) !important;
              //background-color: t($surface-1) !important;
              //border-bottom-color: t($text);
            }

            @include breakpoint(medium) {
              padding-left: rem-calc(map-get($grid-column-gutter, medium));
            }

            @include breakpoint(xlarge) {
              padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
              @include header-styles(h4);
            }

            @include breakpoint(xxlarge) {
              padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
            }


            &::-webkit-input-placeholder {

              @include themed() {
                color: t($text-medium-emphasis) !important;
              }
            }

            &::-moz-placeholder {
              opacity: 1;

              @include themed() {
                color: t($text-medium-emphasis) !important;
              }
            }

            &:-ms-input-placeholder {

              @include themed() {
                color: t($text-medium-emphasis) !important;
              }
            }

            &:-moz-placeholder {
              opacity: 1;

              @include themed() {
                color: t($text-medium-emphasis) !important;
              }
            }
          }

          .input-group-button {
            opacity: 0;
            @include offcanvas-search-height;
            @include transition-2;

            .button {
              padding: 0;
              //width: 2.5rem;
              border: none;
              background-color: transparent;
              //border-bottom: $border-thin solid;
              padding-left: 0 !important;
              text-indent: 0;
              @include offcanvas-search-height;

              padding-right: rem-calc(map-get($grid-column-gutter, small));

              @include themed() {
                color: t($text) !important;
                //border-bottom-color: t($text) !important;
              }

              @include breakpoint(medium) {
                padding-right: rem-calc(map-get($grid-column-gutter, medium));
              }

              @include breakpoint(xlarge) {
                padding-right: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
                @include header-styles(h4);
              }

              @include breakpoint(xxlarge) {
                padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
              }

              i {
                padding-left: 0 !important;
                font-size: 24px;
                line-height: 1.25rem;

                @include themed() {
                  color: t($text-medium-emphasis) !important;
                }

                @include breakpoint(medium) {
                  font-size: 32px;
                  line-height: 1.5;
                }
              }
            }
          }

          &:focus-within, &:active {
            @include transition-1;
            @include webkit-fix;

            @include themed() {
              background-color: t($surface-2) !important;
            }

            .input-group-field {
              //border-bottom: $border-thin solid;
              //background-color: scale-color($secondary-color-light, $lightness: -10%);
              @include transition-1;

              @include themed() {
                //border-bottom-color: t($text);
                //background-color: t($surface-2) !important;
              }
            }

            .input-group-button {
              opacity: 1;
              @include transition-1;

              .button {

                @include themed() {
                  //background-color: t($surface-2) !important;
                }
              }
            }
          }
        }
      }
    }

    #offcanvas-social-media-widget {
      @include two-third-spaced-top;

      .widget {
        padding-left: rem-calc(map-get($grid-column-gutter, small));
        padding-right: rem-calc(map-get($grid-column-gutter, small));

        @include breakpoint(medium) {
          padding-left: rem-calc(map-get($grid-column-gutter, medium));
          padding-right: rem-calc(map-get($grid-column-gutter, medium));
        }

        @include breakpoint(xlarge) {
          padding-left: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
          padding-right: rem-calc(map-get($grid-column-gutter, xlarge) / 2 );
        }

        @include breakpoint(xxlarge) {
          padding-left: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
          padding-right: rem-calc(map-get($grid-column-gutter, xxlarge) / 2 );
        }

        a {
        margin-right: (rem-calc(map-get($grid-column-gutter, small)) / 2);
        opacity: 1;

        @include breakpoint(medium) {
            margin-right: (rem-calc(map-get($grid-column-gutter, medium)) / 2);
        }

          img {
            max-height: 1.5rem;
            @include transition-2;

            // CREATE BLACK ICONS AND RECOLOUR WITH THIS: https://codepen.io/sosuke/pen/Pjoqqp
            filter: invert(40%) sepia(21%) saturate(328%) hue-rotate(279deg) brightness(89%) contrast(94%);

            @include breakpoint(xlarge) {
              max-height: 2rem;
            }

          }

          &:hover, &:active {

              img {
                  @include transition-1;
                  opacity: 1;
                  transform: scale(1.2);
              }
          }

          &:last-of-type {
              margin-right: 0;
          }
        }

        ul {

          li {
            display: inline-block;
            margin-right: (rem-calc(map-get($grid-column-gutter, medium)) / 2);

            a {
              font-family: $tertiary-font-family;
              font-weight: $global-weight-normal;
              text-transform: uppercase;
              @include header-styles(h5);

              letter-spacing: 0.25rem;
              text-indent: 0.25rem;

              @include themed() {
                color: t($text-medium-emphasis);
              }

              &:hover {

                @include themed() {
                  color: t($hover);
                }
              }
            }
          }
        }
      }
    }

    .widget {

        .widgettitle {
            color: $primary-color;
            font-family: $body-font-family;
            font-weight: $global-weight-medium;
            text-transform: uppercase;

            @include header-styles(h5);
        }

        ul {
            list-style-type: none;

            li {

                a {
                    margin-right: (rem-calc(map-get($grid-column-gutter, small)) / 2);
                    font-weight: $global-weight-light;
                    text-transform: uppercase;
                    border-bottom: none;

                    @include header-styles(h4);

                    img {
                        //@include transition-2;
                        max-width: 2rem;

                        opacity: 1;
                    }

                    &:hover {

                        img {
                            //@include transition-1;
                            opacity: 0.75;
                        }
                    }

                    &:last-of-type {
                        margin-top: 0 !important;
                    }
                }

                .active {

                    img {
                        //@include transition-1;
                        opacity: 0.75;
                    }
                }
            }
        }
    }

    &.is-transition-overlap, &.is-transition-push {
        z-index: 1111111111;

        ul {

            li {

                a {
                    opacity: 0;
                    //@include transition-1;
                }
            }
        }

        &.is-closed {

        }

        &.is-open {
            //box-shadow: none;

            ul {

                li {

                    a {
                        opacity: 1;
                        //@include transition-2;
                    }
                }
            }
        }
    }
}




/*********************
FOOTER STYLES
*********************/

.footer {
  position: relative;
	clear: both;
	margin-top: 0;
  //border-top: $border-thin solid;

    @include themed() {
      color: t($bg);
      border-top-color: t($text-medium-emphasis);
    }

    #footer-top {

        #footer-menu-bar {
            position: relative;

            div {
                .widget {
                    margin-bottom: rem-calc(map-get($grid-column-gutter, small));

                    @include breakpoint(medium) {
                        margin-bottom: 0;
                    }
                }

                &:last-of-type {
                    .widget {
                        margin-bottom: 0;
                    }
                }
            }

            h4, .h4 {
                //margin-bottom: 0;
                font-family: $header-font-family;
                font-weight: $global-weight-medium;
                text-transform: uppercase;
                letter-spacing: 0.25rem;
                @include header-styles(h5);
                @include quarter-spaced-bottom;

                @include themed() {
                  color: t($text-medium-emphasis);
                }
            }

            .menu {

              li {
                display: block;
                width: 100%;

                @include breakpoint(xlarge) {
                  margin-bottom: 0.25rem;
                }


                a {
                  padding-top: 0;
                  padding-bottom: 0 !important;
                  padding-left: 0 !important;
                  font-family: $tertiary-font-family;
                  font-weight: $global-weight-normal;
                  display: inline-block;
                  @include header-styles(h5);
                  @include transition-2;

                  @include themed() {
                    color: t($text);
                  }

                  &:hover, &:active {
                      @include transition-1;

                      @include themed() {
                        color: t($hover);
                      }
                  }
                }

                &.menu-item-has-children {

                  .sub-menu {

                    li {

                      a {
                        color: $white;
                      }
                    }
                  }
                }

                &.active {

                  a {
                      color: $tertiary-color;
                      font-weight: $global-weight-medium;
                      background: none;
                  }
                }

                .sub-menu {
                  padding-left: 1rem;

                  li {

                    a {
                      padding: 0;
                      font-weight: $global-weight-light;

                      &:hover, &:active {
                        color: $tertiary-color;
                      }
                    }

                    &.active {

                      a {
                          color: $secondary-color;
                          font-weight: $global-weight-medium;
                          background: none;
                      }
                    }
                  }
                }
              }
            }

            #footer-widget-1, #footer-widget-2, #footer-widget-3, #social-media-widget, #affiliates-widget {
              color: $white;
              @include half-spaced-bottom;

              @include breakpoint(medium) {
                  margin-bottom: 0 !important;
              }

              .widget {
                @include quarter-spaced-bottom;

                &:last-of-type {
                  margin-bottom: 0;
                }

                &.widget_text {

                  p {

                    @include themed() {
                      color: t($text);
                    }

                    &:last-of-type {
                      margin-bottom: 0;
                    }
                  }

                  a {
                    color: $white;
                    text-decoration: none;
                    @include transition-2;

                    @include themed() {
                      color: t($text);
                    }

                    &:hover, &:active {
                        text-decoration: none;
                        @include transition-1;

                        @include themed() {
                          color: t($hover);
                        }
                    }
                  }
                }
              }

              span {
                text-transform: uppercase;
                color: $secondary-color;
                font-weight: $global-weight-bold;
                @include header-styles(h6);

                @include themed() {
                  color: t($secondary-clr);
                }
              }
            }

            #footer-widget-1 {

              #text-3 {
                @include half-spaced-top;


                .textwidget {

                  a {
                    color: $secondary-color;
                    text-decoration: none;
                    @include transition-2;

                    &:hover, &:active {
                        color: $tertiary-color;
                        text-decoration: none;
                        @include transition-1;
                    }
                  }
                }
              }
            }

            #footer-widget-2 {
            }

            #footer-widget-3 {
            }

            #social-media-widget {

              @include breakpoint(medium) {
                text-align: right;
              }

              .widget {

                ul {
                  text-align: left;

                  li {
                    display: block;
                    margin-bottom: (rem-calc(map-get($grid-column-gutter, small)) / 2);

                    @include breakpoint(medium) {
                      display: inline-block;
                      margin-right: (rem-calc(map-get($grid-column-gutter, medium)) / 2);
                    }

                    a {
                      font-family: $tertiary-font-family;
                      font-weight: $global-weight-normal;
                      text-transform: uppercase;
                      @include header-styles(h5);

                      letter-spacing: 0.25rem;
                      text-indent: 0.25rem;

                      @include themed() {
                        color: t($text-medium-emphasis);
                      }

                      &:hover {

                        @include themed() {
                          color: t($hover);
                        }
                      }
                    }
                  }
                }
              }

              #custom_html-4 {
                @include half-spaced-top;

                img {
                  max-height: initial;
                }
              }
            }

            #certifications-widget {

              .widget {

                @include breakpoint(medium) {
                    margin-top: 3rem;
                }

                a {
                  margin-right: 0 !important;

                  img {
                    margin-top: 0;
                    max-width: 5rem;
                  }
                }
              }
            }
        }
    }

    #footer-bottom {
        //font-size: 80%;
        //border-top: $border-thin solid $primary-color-dark;
        @include header-styles(h6);

        .copyright {
            margin-bottom: 0;
            display: inline-block;
            font-family: $tertiary-font-family;
            line-height: $global-lineheight-short;
            @include header-styles(h6);

            @include themed() {
              color: t($text-medium-emphasis);
            }

            a {
                padding-left: 0 !important;
                @include transition-2;

                @include themed() {
                  color: t($text-medium-emphasis);
                }

                &:hover {
                    @include transition-1;

                    @include themed() {
                      color: t($hover);
                    }
                }
            }
        }

        .credit {

          a {
            position: relative;

            .moose-mark {
              height: 1.25rem;
              width: 1.5rem;
              display: block;
              position: absolute;
              margin-right: 0;
              right: 0;
              background-size: contain;
              background-repeat: no-repeat;

              @include themed() {
                background-image: t($moose-logo);
              }
            }
          }
        }

        .widget {
            display: inline-block;

            .menu-footer-bottom-container { //.menu-privacyterms-conditions-container {

                #menu-footer-bottom {

                    li {
                        //margin-left: -4px;
                        display: inline-block;
                        padding-right: (rem-calc(map-get($grid-column-gutter, small)) / 2);
                        margin-right: (rem-calc(map-get($grid-column-gutter, small)) / 2);
                        border-right: $border-thin solid $white;

                        @include breakpoint(medium) {
                            padding-right: (rem-calc(map-get($grid-column-gutter, medium)) / 4);
                            margin-right: (rem-calc(map-get($grid-column-gutter, medium)) / 4);
                        }

                        &:last-of-type {
                            padding-right: 0;
                            margin-right: 0;
                            border-right: none;
                        }

                        a {
                            padding: 0 !important;
                            color: $white !important;
                            line-height: $global-lineheight-short;
                            display: inline-block;
                            @include transition-2;

                            &:hover {
                                @include transition-1;
                                color: $tertiary-color !important;
                            }
                        }
                    }

                    .active {

                        a {
                            color: $secondary-color !important;
                            background: transparent !important;
                            cursor: default;
                        }
                    }
                }
            }
        }
    }
}




/*********************
BANNER STYLES
*********************/


// Set the height of the banner here
@mixin banner-height {
    @include two-third-viewport;
}

#banner-home, #banner-page, #banner-cpt, #banner-error, #banner-search, #banner-archive {
    position: relative;
    z-index: 1 !important;
    @include five-sixth-viewport;

    @include breakpoint(medium) {
      @include banner-height;
    }

    .banner-background {
        overflow: hidden;
        @include five-sixth-viewport;

        @include breakpoint(medium) {
          @include banner-height;
        }

        .banner-background-img {
          background-size: cover;
          background-position: center center;
          background-repeat: no-repeat;
          //opacity: 0.5;
          @include five-sixth-viewport;

          @include breakpoint(medium) {
            @include banner-height;
          }
        }

        .banner-background-video-youtube {
          background-color: $primary-color;
          position: fixed;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          //z-index: -99;

          .responsive-embed {
            @include five-sixth-viewport;

            @include breakpoint(medium) {
              @include banner-height;
            }
          }

          .banner-background-video-youtube-container, .banner-background-video-youtube iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            pointer-events: none;
            //transform: scale(1.1);
            @include five-sixth-viewport;

            @include breakpoint(medium) {
              //transform: scale(1.2);
              top: -15vh;
              @include banner-height;
            }

            @include breakpoint(xlarge) {
              //transform: scale(1.4);
            }
          }
        }

        /*@media (min-aspect-ratio: 16/9) {
          .banner-background-video-youtube-container { height: 300%; top: -100%; }
        }
        @media (max-aspect-ratio: 16/9) {
          .banner-background-video-youtube-container { width: 300%; left: -100%; }
        }*/

        #banner-background-video {
            position: absolute; //relative;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            //z-index: -100;
            -webkit-transform: translateX(-50%) translateY(-50%);
            transform: translateX(-50%) translateY(-50%);
            background-color: $primary-color;
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;

        }

        .video-still {
            width: 100%;
            background-color: $primary-color;
            overflow: hidden;
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            @include five-sixth-viewport;

            @include breakpoint(medium) {
              @include banner-height;
            }
        }

        ::-webkit-media-controls {
          display: none !important;
        }

        .mejs-controls {
            display: none !important;
        }
    }

    .banner-overlay {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        width: 100%;
        @include five-sixth-viewport;

        @include breakpoint(medium) {
          @include banner-height;
        }

        &.with-image {
          background-color: $black-translucent;
          //background-image: url(../images/gradient.png);
          background-repeat: repeat-x;
          background-position: top;
        }

        .banner-overlay-inner {
            padding-top: 6rem;
            @include five-sixth-viewport;

            @include breakpoint(medium) {
              @include banner-height;
            }

            .callout {
                padding-left: 0;
                padding-right: 0;
                background-color: transparent; //$primary-color-dark-translucent;
                border: 0; //$border-thin solid $white;

                //@include half-inner-spaced;

                h1 {
                  margin-bottom: 0;
                  font-weight: $global-weight-normal;
                  line-height: $global-lineheight;
                  @include header-styles(h2);

                  @include themed() {
                    color: t($text);
                  }

                  @include breakpoint(medium) {
                    @include header-styles(h1);
                  }

                  a {
                    text-decoration: none;

                    @include themed() {
                      color: t($text);
                    }

                    &:hover, &:active {

                      @include themed() {
                        color: t($text-medium-emphasis);
                      }
                    }
                  }

                  .title {
                    color: $secondary-color;
                    font-family: $tertiary-font-family;
                    font-weight: $global-weight-medium;
                    text-transform: uppercase;
                    letter-spacing: 0.25rem;
                    text-indent: 0.25rem;

                    width: fit-content;
                    padding: 0.25rem;
                    padding-bottom: 0.3rem;
                    line-height: $global-lineheight;

                    display: block;

                    @include header-styles(h5);
                    @include quarter-spaced-bottom;

                    @include themed() {
                      color: t($btn-hover-text);
                      background-color: t($primary-clr);
                    }

                    &.light {
                      color: $secondary-color-light;
                    }
                  }
                }

                .lead, .lead p {
                  color: $primary-color;
                  opacity: 1;
                  display: block;
                  @include quarter-spaced-top;
                  @include header-styles(h4);

                  @include themed() {
                    color: t($text);
                    font-weight: t($text-font-weight);
                  }

                  @include breakpoint(medium) {
                    @include header-styles(h4);
                  }

                  a {
                    color: $primary-color;
                    text-decoration: underline;
                    text-decoration-thickness: 1px;
                    text-underline-offset: 2.5px;

                    @include themed() {
                      color: t($text);
                      font-weight: t($text-font-weight);
                    }

                    &:hover, &:active {
                        color: $primary-color-dark;
                    }
                  }
                }

                .button {
                    margin-bottom: 0;
                    color: $secondary-color !important;
                    background-color: $primary-color !important;
                    border-color: $primary-color !important;
                    @include quarter-spaced-top;

                    &:hover, &:active {
                        //opacity: 0.7 !important;
                        color: $primary-color !important;
                        background-color: $secondary-color-dark !important;
                        border-color: $secondary-color-dark !important;
                    }

                    &.hollow {
                        color: $primary-color !important;
                        border-color: $primary-color !important;
                        background-color: transparent !important;

                        &:hover, &:active {
                            background-color: $secondary-color-dark-translucent !important;
                        }
                    }
                }
            }
        }
    }
}


// Set the height of the secondary banner here
@mixin secondary-banner-height {
    @include two-third-viewport;
}


#banner-home, #banner-error {
  position: inherit;
  z-index: 0;
  @include secondary-banner-height;

  @include breakpoint(medium) {
    @include secondary-banner-height;
  }

  .banner-background {
    @include five-sixth-viewport;

    @include breakpoint(medium) {
      @include secondary-banner-height;
    }

    .banner-background-img {
      @include secondary-banner-height;
    }
  }

  .banner-overlay {
    @include five-sixth-viewport;

    @include breakpoint(medium) {
      @include secondary-banner-height;
    }

    .banner-overlay-inner {
      @include five-sixth-viewport;

      @include breakpoint(medium) {
        @include secondary-banner-height;
        //@include four-fifth-viewport;
      }

      .callout {

        /*h1, .h1 {
          color: $primary-color;
          font-family: $header-font-family;
          font-weight: $global-weight-bold;
          text-transform: inherit;

          @include header-styles(h1);
          @include quarter-spaced-bottom;
        }

        .lead {
          @include half-spaced-bottom;
        }*/

        .button {
          @include half-spaced-top;
        }
      }
    }

    .banner-overlay-inner-bottom {
      @include sixth-viewport;

      @include breakpoint(medium) {
        @include fifth-viewport;
      }
    }
  }
}




#banner-home {

  .banner-overlay {

    .banner-overlay-inner {

      .callout {

        .featured-image-container {
          @include aspect-ratio(4, 3);

          .featured-image {
            background-size: contain;
          }
        }

        h1 {
          font-family: $body-font-family;
            @include header-styles(h3);

          @include themed() {
            font-weight: t($text-font-weight);
          }

          @include breakpoint(medium) {
            @include header-styles(h2);
          }
        }
      }
    }
  }
}




#banner-cpt {

  .banner-overlay {

    .banner-overlay-inner {

      .callout {

        .featured-image-container {
          @include aspect-ratio(4, 3);

          .featured-image {
            background-size: contain;
          }
        }

        h1 {
          @include spaced-top;

          @include breakpoint(medium) {
            margin-top: 0;
          }
        }
      }
    }
  }
}




#banner-search {

  .banner-background {
      background-color: $light-gray;
  }

  .banner-overlay {
    .banner-overlay-inner {

      .callout {

        h1 {
          text-transform: capitalize;

          span {
            color: $secondary-color;
            font-family: $body-font-family;
            font-weight: $global-weight-medium;
            text-transform: uppercase;
            display: block;

            @include header-styles(h5);
          }
        }

        form {
          @include half-spaced-top;

          .input-group-field {
            padding: 0;
            color: $white;
            height: 3rem;
            text-transform: capitalize;
            border: none;
            border-bottom: $border-thin solid $white;
            background-color: transparent; //$secondary-color-light;
            box-shadow: none;
            @include header-styles(h3);

            &::-webkit-input-placeholder {
              color: $primary-color-light-translucent;
            }

            &::-moz-placeholder {  /* Firefox 19+ */
              color: $primary-color-light-translucent;
            }

            &:-moz-placeholder { /* Firefox 18- */
              color: $primary-color-light-translucent;
            }

            &:-ms-input-placeholder {
              color: $primary-color-light-translucent;
            }
          }

          .button {
            padding: 0 0.5rem;
            margin-top: 0 !important;
            border: none;
            border-bottom: $border-thin solid $white !important;;
            //border-color: $secondary-color-light !important;
            color: $primary-color;
            background-color: transparent !important;; //$white !important;

            &:hover, &:active {
              top: 0;
              left: 0;
              color: $secondary-color !important;
              border-color: $white !important;
              background-color: transparent !important;; //$white !important;
              box-shadow: none !important;
            }

            i {
              margin-top: 0.25rem;
              font-size: 32px;
            }
          }
        }

      }

    }
  }
}

#banner-archive {

    .banner-background {
        background-color: $secondary-color-light;
    }
}




/*********************
GENERIC GRID STYLES
*********************/

.generic-grid {

    .generic-grid-inner {

        .item {
            margin-bottom: rem-calc(map-get($grid-column-gutter, small));

            @include breakpoint(medium) {
              margin-bottom: rem-calc(map-get($grid-column-gutter, medium));
            }

            @include breakpoint(xlarge) {
              margin-bottom: rem-calc(map-get($grid-column-gutter, xlarge));
            }

            @include breakpoint(xxlarge) {
              margin-bottom: rem-calc(map-get($grid-column-gutter, xxlarge));
            }

            /*********************
            TEXT OVER IMAGE GRID
            *********************/

            .cs-style-1, .no-touch .cs-style-1 {
                list-style-type: none !important;
                padding: 0;
                margin-left: 0;
                margin-bottom: 0;

                .item-inner {

                    figure {
                        margin: 0;
                        overflow: hidden;
                        position: relative;
                        background-color: $primary-color;
                        @include aspect-ratio(16, 9);

                        .background-image {
                            padding: 5.5% !important;
                            height: 100%;
                            width: 100%;
                            color: $white;
                            background-repeat: no-repeat;
                            background-size: cover;
                            background-position: center center;
                            opacity: 1;
                            transition: transform 1500ms ease 300ms;

                            @include breakpoint(large)  {
                                //opacity: 0.5;
                            }

                            div {

                                div {
                                    visibility: hidden;
                                }
                            }
                        }

                        figcaption {
                            position: absolute;
                            height: 100%;
                            width: 100%;
                            top: auto;
                            bottom: 0;
                            left: 0;
                            background-color: $black-translucent-dark;
                            height: 100%;
                            backface-visibility: hidden;
                            opacity: 1;
                            padding: rem-calc(map-get($grid-column-gutter, small));

                            @include breakpoint(medium) {
                                padding: rem-calc(map-get($grid-column-gutter, medium));
                            }

                            @include breakpoint(large) {
                                //background-color: $primary-color-transparent;
                                background-color: $black-translucent;
                                @include transition-2;
                                //opacity: 0;
                            }

                            @include breakpoint(xlarge) {
                                padding: rem-calc(map-get($grid-column-gutter, medium));
                            }

                            @include breakpoint(xxlarge) {
                                padding: rem-calc(map-get($grid-column-gutter, xlarge));
                            }

                            .figcaption-content {

                                h3, .h3 {
                                    font-family: $header-font-family;
                                    font-weight: $global-weight-bold;
                                    line-height: $global-lineheight-short;
                                    color: $secondary-color;
                                    opacity: 1;

                                    @include breakpoint(medium) {
                                        @include header-styles(h2);
                                    }

                                    @include breakpoint(large)  {
                                        color: $white;
                                        @include transition-1;
                                        //opacity: 0;
                                        top: 3.25rem;
                                        position: relative;
                                    }

                                    @include breakpoint(xlarge)  {
                                        top: 3.9rem;
                                    }

                                    @include breakpoint(xxlarge)  {
                                        top: 4.25rem;
                                    }
                                }

                                h4, .h4 {
                                    font-family: $body-font-family;
                                    font-weight: $global-weight-medium;
                                    color: $primary-color !important;
                                    opacity: 1;
                                    @include header-styles(h4);

                                    @include breakpoint(large)  {
                                        @include transition-1;
                                        opacity: 0;
                                    }
                                }

                                h5, .h5 {
                                    font-family: $body-font-family;
                                    font-weight: $global-weight-medium;
                                    margin-bottom: 0;
                                    color: $white !important;
                                    opacity: 1;
                                    @include quarter-spaced-top;

                                    @include breakpoint(medium) {
                                        @include header-styles(h4);
                                    }

                                    @include breakpoint(large)  {
                                        @include transition-1;
                                        opacity: 0;
                                    }

                                    @include breakpoint(xlarge)  {
                                        @include header-styles(h5);
                                    }
                                }

                                p, .p {
                                    color: $white !important;
                                    @include header-styles(h6);
                                    opacity: 1;

                                    @include breakpoint(large)  {
                                        @include transition-1;
                                        opacity: 0;
                                    }
                                }

                                .read-more {
                                    color: $white;
                                    opacity: 1;
                                    margin-bottom: 0;
                                    @include quarter-spaced-top;

                                    @include breakpoint(medium) {
                                        @include header-styles(h5);
                                    }

                                    @include breakpoint(large)  {
                                        @include transition-1;
                                        opacity: 0;
                                        visibility: collapse;
                                    }

                                    @include breakpoint(xlarge)  {
                                        @include header-styles(h6);
                                    }

                                    // GOOGLE MATERIAL ICON
                                    .material-symbols-sharp {
                                      color: $secondary-color;
                                    }
                                }
                            }
                        }

                        &:hover, &.cs-hover {

                            .background-image {
                                transform: scale(1.05);
                                transition: transform 1500ms ease;
                            }

                            figcaption {
                                @include transition-1;
                                background-color: $black-translucent-dark;
                                opacity: 1;

                                .figcaption-content {

                                    h3, .h3 {
                                        //margin-top: 3.5rem;
                                        color: $secondary-color;
                                        @include transition-1;
                                        opacity: 1;
                                        top: 0;

                                        @include breakpoint(xlarge)  {
                                            //margin-top: 4.75rem;
                                        }

                                        @include breakpoint(xxlarge)  {
                                            //margin-top: 6.5rem;
                                        }
                                    }

                                    h4, .h4 {
                                        @include transition-1;
                                        opacity: 1;
                                    }

                                    h5, .h5 {
                                        @include transition-1;
                                        opacity: 1;
                                    }

                                    p, .p {
                                        @include transition-1;
                                        opacity: 1;
                                    }

                                    .button {
                                        @include transition-1;
                                        opacity: 1;

                                        &:hover, &:active {
                                            background-color: $secondary-color !important;
                                            color: $white !important;
                                        }
                                    }

                                    .read-more {
                                        @include transition-2;
                                        opacity: 1;

                                        @include breakpoint(large)  {
                                            opacity: 1;
                                            visibility: visible;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }

            /*********************
            CARD GRID
            *********************/

            .card {

              .responsive-embed {

                iframe {
                  overflow: hidden;
                }
              }
            }
        }

        .pagination-container {
            margin-bottom: 0;

            @include breakpoint(medium) {
                margin-bottom: 0;
            }
        }
    }
}




/*********************
SIDEBAR STYLES
*********************/

#sidebar1 {

  .widget {
    @include half-spaced-bottom;

    .widgettitle {
        color: $primary-color;
        font-family: $body-font-family;
        font-weight: $global-weight-bold;
        @include header-styles(h4);
        @include quarter-spaced-bottom;
    }

    ul, label, select {
        font-family: $body-font-family;
        font-weight: $global-weight-normal;
        @include header-styles(h6);

        li {
            margin-bottom: 1vh;
            color: $secondary-color;

            a {
                color: $primary-color;
                font-weight: $global-weight-bold;

                &:hover, &:active {
                    color: $tertiary-color;
                }
            }

            span {
                color: $primary-color;
            }

            .wpp-views {
              color: $tertiary-color !important;
            }
        }
    }

    &.widget_nav_menu {

      li {
        display: block;
        width: 100%;

        a {
          padding: 0;
          line-height: inherit;
        }
      }

    }

    &.popular-posts {

      li {
        @include quarter-spaced-bottom;

        &:last-of-type {
          border-bottom: none;
          margin-bottom: 1vh !important;
          padding-bottom: 0 !important;
        }
      }

      .wpp-cards-compact {

        li {
          border-bottom: none !important;

          .wpp-post-title {
            color: $primary-color;
            font-family: $body-font-family;
            font-weight: $global-weight-bold;
            @include header-styles(h4);

            &:hover, &:active {
              color: $primary-color-dark !important;
              text-decoration: none !important;
            }
          }

          .wpp-thumbnail {
            max-width: 75px !important;
            max-height: 75px !important;
            border-radius: $global-radius;
          }

        }
      }
    }
  }
}




/*********************
SEARCH MODAL
*********************/

#search {
    top: 0 !important;
    @include transition-1;
    background-color: $secondary-color-light;
    //z-index: 9876543210;
    padding-bottom: 0 !important;

    .close-button {
      position: absolute;
      top: 0;

      @include breakpoint(xlarge) {
        right: (rem-calc(map-get($grid-column-gutter, xlarge)) / 2 );
      }

      @include breakpoint(xxlarge) {
        right: (rem-calc(map-get($grid-column-gutter, xxlarge)) / 2 );
      }
    }

    .searchform-container {
        //height: 720px; /* Some tweener fallback that doesn't look awful */
        //height: 90vh !important;
        //min-height: 90%;
        //max-height: 90%;
        @include full-viewport;

        @include breakpoint(medium) {
          @include two-third-viewport;
        }

        .searchform-container-inner {
            //@include full-viewport;

            @include breakpoint(medium) {
                //@include four-fifth-viewport;
            }

            .section-title {
                color: $primary-color !important;
                text-align: left;
            }

            .searchform {
                -webkit-transition: all 3s ease;
                -moz-transition: all 3s ease;
                -ms-transition: all 3s ease;
                -o-transition: all 3s ease;
                transition: all 3s ease;
                background-color: transparent;
                width: 100%; // was 22.738rem;
                z-index: 9996543210;
                border: 0;
                padding: 0 !important;
                margin: 0;
                top: 0;
                color: $light-gray;

                .searchform.active {
                    background-color: transparent;
                    color: $white;
                }

                .search-field {
                    border-radius: 0 !important;
                    background-color: transparent;
                    //padding: 0.2rem !important;
                    padding: 0 !important;
                    @include header-styles(h1);
                }

                .search-submit {
                    background-color: transparent;
                    font-size: 1.15rem !important;
                    font-weight: 600;
                    display: none;
                }

                input[type=search] {
                    background-color: transparent;
                    border-width: 0 !important;
                    border: 0 !important;
                    height: 5.556rem !important; // 4rem;
                    margin-top: -1rem;

                    box-shadow: none;
                    box-sizing: inherit;

                    color: $tertiary-color;
                    font-family: $body-font-family;
                    font-weight: $global-weight-bold;

                    &::-webkit-input-placeholder {
                        color: $secondary-color-dark-translucent-light;
                    }

                    &::-moz-placeholder {  /* Firefox 19+ */
                        color: $secondary-color-dark-translucent-light;
                    }

                    &:-moz-placeholder { /* Firefox 18- */
                        color: $secondary-color-dark-translucent-light;
                    }

                    &:-ms-input-placeholder {
                        color: $secondary-color-dark-translucent-light;
                    }

                    &::-webkit-search-cancel-button{
                        position:relative;
                        right: 1.25rem;

                        -webkit-appearance: none;
                    }
                }

            }
        }
    }

    &.is-transition-overlap {
        @include transition-1;
        background-color: $white;
        border-top: $border-thick solid $medium-gray;
        padding-top: 20px;

        &.is-open {
            @include transition-1;
            background-color: $white;
            border-top: $border-thick solid $medium-gray;
            padding-top: 1rem;

            @include full-viewport;
        }
    }

    .modal-search-regions-container {

      .modal-search-regions-container-inner {
        @include third-viewport;

        .generic-grid {

            .item {

                figure {
                    @include aspect-ratio(4, 3);

                    h3 {
                      top: 1rem;
                      @include header-styles(h3);

                      @include breakpoint(xlarge) {
                        @include header-styles(h3);
                      }
                    }

                    &:hover, &.cs-hover {

                      h3 {
                        top: 0;
                      }

                    }
                }
            }
        }
      }
    }
}




/*********************
SEARCH RESULTS PAGE STYLES
*********************/

.search {

  #search-content {
    @include inner-spaced;
    //background-color: $secondary-color-light;

    #main {
      //position: relative;
      //top: -5vh;

        article {
          padding: 2rem;
          border: none;
          border-radius: $global-radius;
          background-color: $secondary-color-light;
          @include spaced-bottom;

          .article-header {
            @include quarter-spaced-bottom;

            a, a:link, a:visited {

              h3 {
              color: $primary-color;
              font-family: $header-font-family;
              //@include header-styles(h2);
              }
              small {
                  color: $secondary-color-dark-translucent;
                  font-family: $body-font-family;
                  font-weight: $global-weight-bold;
                  text-transform: uppercase;
                  @include header-styles(h5);
              }

              &:hover, &:active {

                h3 {
                  color: $secondary-color;
                }
              }
            }
          }

          .entry-content {

              .date {
                  font-family: $header-font-family;
                  font-weight: $global-weight-bold;
                  color: $black;
              }

              .read-more {
                  display: inline;
                  color: $secondary-color;

                  &:hover, &:active {
                      color: $tertiary-color;
                  }
              }
          }

          .featured-image-container {
              background-color: $primary-color;
              @include quarter-spaced-bottom;
              @include aspect-ratio(16, 9);
          }

          @include breakpoint(medium) {
              @include half-spaced-bottom;

              .featured-image-container {
                  margin-bottom: 0;
                  //@include aspect-ratio(4, 3);
              }
          }

          &.format-aside {

              .entry-content {

                  p {
                      font-family: $header-font-family;
                      @include header-styles(h4);
                  }

              }
          }
        }

        #post-not-found {
            margin-bottom: 0 !important;

            @include breakpoint(medium) {
                @include third-viewport;
            }

            h1 {
                color: $primary-color;
                font-family: $body-font-family;
                font-weight: $global-weight-bold;
                @include header-styles(h4);

                @include breakpoint(medium) {
                    @include header-styles(h2);
                }
            }

            .lead {
                @include header-styles(h5);

                @include breakpoint(medium) {
                    @include header-styles(h4);
                }
            }

        }

        .pagination-container {
          margin-bottom: 0;

            .page-navigation {
                text-align: center;

                ul.pagination {

                    li {

                        a {
                            background-color: $white;

                            &:hover, &:active {
                              background-color: $secondary-color;
                            }
                        }
                    }
                }
            }
        }

    }
  }
}
